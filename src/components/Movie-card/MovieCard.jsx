import React from "react";

import { Link } from "react-router-dom";

import "./movie-card.scss";

import LazyLoad from "react-lazyload";
import PlaceholderComponent from "../Placheloder-component/PlaceholderComponent";

const MovieCard = ({ item, category }) => {
  return (
    <Link to={`/${category}/${item.id}`}>
      <div className="movie-item">
        <div
          className={`movie-item__img ${
            item.poster_path !== null ? "" : "movie-item__img--none"
          }`}
        >
          {item.poster_path !== null ? (
            <LazyLoad
              placeholder={<PlaceholderComponent />}
              debounce={500}
              once
            >
              <img
                src={`https://image.tmdb.org/t/p/w300${item.poster_path}`}
                alt=""
              />
            </LazyLoad>
          ) : (
            <svg
              width="181"
              height="181"
              viewBox="0 0 181 181"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M1.99968 0C1.60181 0.000104489 1.21301 0.118862 0.882993 0.341089C0.552974 0.563317 0.296728 0.878917 0.147013 1.24754C-0.00270066 1.61616 -0.0390791 2.02106 0.0425289 2.41047C0.124137 2.79988 0.320023 3.1561 0.605144 3.43359L29.8591 32.6875C23.9071 37.0599 20.0192 44.0868 20.0192 52.0195V128.02C20.0192 141.25 30.7883 152.02 44.0192 152.02H136.019C139.846 152.02 143.454 151.097 146.668 149.496L176.605 179.434C176.789 179.626 177.01 179.779 177.254 179.884C177.499 179.99 177.762 180.046 178.028 180.048C178.294 180.051 178.558 180.001 178.804 179.9C179.05 179.8 179.274 179.651 179.462 179.463C179.651 179.275 179.799 179.051 179.9 178.804C180 178.558 180.051 178.294 180.048 178.028C180.045 177.762 179.99 177.499 179.884 177.255C179.778 177.011 179.625 176.79 179.433 176.605L150.179 147.352C156.131 142.979 160.019 135.952 160.019 128.02V52.0195C160.019 38.7886 149.25 28.0195 136.019 28.0195H44.0192C40.1928 28.0195 36.5844 28.9425 33.3708 30.543L3.43327 0.605469C3.24689 0.41388 3.024 0.26159 2.77777 0.157597C2.53154 0.0536031 2.26697 1.5581e-05 1.99968 0V0ZM44.0192 32.0195H136.019C147.088 32.0195 156.019 40.9505 156.019 52.0195V128.02C156.019 134.879 152.583 140.911 147.34 144.512L142.98 140.152C147.18 137.733 150.019 133.205 150.019 128.02V119.211C150.039 119.098 150.039 118.984 150.019 118.871V97.0195C150.021 96.887 149.997 96.7555 149.947 96.6325C149.898 96.5095 149.824 96.3976 149.731 96.3032C149.638 96.2089 149.527 96.1339 149.405 96.0828C149.283 96.0316 149.152 96.0053 149.019 96.0053C148.887 96.0053 148.755 96.0316 148.633 96.0828C148.511 96.1339 148.4 96.2089 148.307 96.3032C148.214 96.3976 148.141 96.5095 148.091 96.6325C148.042 96.7555 148.017 96.887 148.019 97.0195V116.605L123.136 91.7227C122.003 90.589 120.507 90.0195 119.019 90.0195C117.531 90.0195 116.036 90.589 114.902 91.7227L104.726 101.898L42.9059 40.0781C43.2725 40.0446 43.6437 40.0195 44.0192 40.0195H127.019C127.152 40.0214 127.283 39.9969 127.406 39.9475C127.529 39.8981 127.641 39.8247 127.736 39.7317C127.83 39.6386 127.905 39.5278 127.956 39.4055C128.007 39.2833 128.033 39.1521 128.033 39.0195C128.033 38.887 128.007 38.7558 127.956 38.6335C127.905 38.5113 127.83 38.4004 127.736 38.3074C127.641 38.2143 127.529 38.141 127.406 38.0916C127.283 38.0421 127.152 38.0177 127.019 38.0195H44.0192C43.0344 38.0195 42.076 38.126 41.1481 38.3203L36.3669 33.5391C38.7239 32.5651 41.3048 32.0195 44.0192 32.0195ZM32.6989 35.5273L37.0583 39.8867C32.858 42.3059 30.0192 46.8336 30.0192 52.0195V102.879C30.0016 102.986 30.0016 103.096 30.0192 103.203V128.02C30.0192 135.74 36.2988 142.02 44.0192 142.02H124.879C124.986 142.037 125.095 142.037 125.203 142.02H136.019C137.004 142.02 137.962 141.913 138.89 141.719L143.672 146.5C141.315 147.474 138.734 148.02 136.019 148.02H44.0192C32.9501 148.02 24.0192 139.089 24.0192 128.02V52.0195C24.0192 45.1596 27.4555 39.128 32.6989 35.5273ZM38.5231 41.3516L101.898 104.727L96.0192 110.605L63.1364 77.7227C62.0027 76.589 60.5071 76.0195 59.0192 76.0195C57.5313 76.0195 56.0357 76.589 54.902 77.7227L32.0192 100.605V52.0195C32.0192 47.3634 34.6583 43.3421 38.5231 41.3516ZM123.019 54.0195C119.436 54.0195 116.623 55.3993 114.773 57.4805C112.923 59.5617 112.019 62.2973 112.019 65.0195C112.019 67.7418 112.923 70.4774 114.773 72.5586C116.623 74.6398 119.436 76.0195 123.019 76.0195C129.082 76.0195 134.019 71.0828 134.019 65.0195C134.019 58.9562 129.082 54.0195 123.019 54.0195ZM123.019 56.0195C128.002 56.0195 132.019 60.0371 132.019 65.0195C132.019 70.0019 128.002 74.0195 123.019 74.0195C119.936 74.0195 117.749 72.8993 116.265 71.2305C114.782 69.5617 114.019 67.2973 114.019 65.0195C114.019 62.7418 114.782 60.4774 116.265 58.8086C117.749 57.1398 119.936 56.0195 123.019 56.0195ZM149.004 72.0039C148.872 72.006 148.743 72.0338 148.622 72.086C148.502 72.1381 148.392 72.2135 148.301 72.3078C148.21 72.4021 148.138 72.5135 148.089 72.6357C148.041 72.7578 148.017 72.8882 148.019 73.0195V77.0195C148.017 77.152 148.042 77.2836 148.091 77.4066C148.141 77.5295 148.214 77.6415 148.307 77.7358C148.4 77.8302 148.511 77.9051 148.633 77.9563C148.755 78.0074 148.887 78.0338 149.019 78.0338C149.152 78.0338 149.283 78.0074 149.405 77.9563C149.527 77.9051 149.638 77.8302 149.731 77.7358C149.824 77.6415 149.898 77.5295 149.947 77.4066C149.997 77.2836 150.021 77.152 150.019 77.0195V73.0195C150.021 72.8856 149.996 72.7526 149.946 72.6284C149.896 72.5042 149.821 72.3914 149.726 72.2967C149.632 72.202 149.519 72.1272 149.395 72.077C149.271 72.0267 149.138 72.0018 149.004 72.0039ZM59.0192 78.0195C59.9993 78.0195 60.972 78.3864 61.7223 79.1367L95.1715 112.586C95.2474 112.7 95.3458 112.797 95.4606 112.871L122.605 140.02H44.0192C37.3796 140.02 32.0192 134.659 32.0192 128.02V103.434L56.3161 79.1367C57.0664 78.3864 58.0391 78.0195 59.0192 78.0195ZM149.004 82.0039C148.872 82.006 148.743 82.0338 148.622 82.086C148.502 82.1381 148.392 82.2135 148.301 82.3078C148.21 82.4021 148.138 82.5135 148.089 82.6357C148.041 82.7578 148.017 82.8882 148.019 83.0195V91.0195C148.017 91.152 148.042 91.2836 148.091 91.4066C148.141 91.5295 148.214 91.6415 148.307 91.7358C148.4 91.8302 148.511 91.9051 148.633 91.9563C148.755 92.0074 148.887 92.0338 149.019 92.0338C149.152 92.0338 149.283 92.0074 149.405 91.9563C149.527 91.9051 149.638 91.8302 149.731 91.7358C149.824 91.6415 149.898 91.5295 149.947 91.4066C149.997 91.2836 150.021 91.152 150.019 91.0195V83.0195C150.021 82.8856 149.996 82.7526 149.946 82.6284C149.896 82.5042 149.821 82.3914 149.726 82.2967C149.632 82.202 149.519 82.1272 149.395 82.077C149.271 82.0267 149.138 82.0018 149.004 82.0039V82.0039ZM119.019 92.0195C119.999 92.0195 120.972 92.3864 121.722 93.1367L148.019 119.434V128.02C148.019 132.676 145.38 136.697 141.515 138.688L106.14 103.312L116.316 93.1367C117.066 92.3864 118.039 92.0195 119.019 92.0195ZM103.312 106.141L137.132 139.961C136.766 139.994 136.395 140.02 136.019 140.02H125.433L97.4333 112.02L103.312 106.141Z"
                fill="white"
              />
            </svg>
          )}
        </div>
        {item.vote_average >= 0 && (
          <div
            className="movie-item__average"
            style={{
              backgroundColor: item.vote_average > 7 ? "#1BC47D" : "#E44F4F",
            }}
          >
            <div className="movie-item__average-icon">
              <svg
                width="30"
                height="28"
                viewBox="0 0 30 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.3907 0.97401L9.72898 8.21374L1.53647 9.37844C0.0673165 9.58623 -0.521468 11.3524 0.543951 12.364L6.47104 17.9961L5.06918 25.9522C4.81684 27.3903 6.37011 28.4675 7.67104 27.7949L15 24.0383L22.329 27.7949C23.6299 28.462 25.1832 27.3903 24.9308 25.9522L23.529 17.9961L29.4561 12.364C30.5215 11.3524 29.9327 9.58623 28.4635 9.37844L20.271 8.21374L16.6093 0.97401C15.9533 -0.316455 14.0523 -0.332859 13.3907 0.97401Z"
                  fill="white"
                />
              </svg>
            </div>

            <p className="movie-item__average-count">
              {item.vote_average.toFixed(1)}
            </p>
          </div>
        )}
        <h3 className="movie-item__title">{item.title || item.name}</h3>
      </div>
    </Link>
  );
};

export default MovieCard;
